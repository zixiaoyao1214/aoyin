{minimum_otp_vsn, "21.0"}.

{erl_opts, []}.

{deps, [
    {grpc, {git, "https://github.com/emqx/grpc", {tag, "0.6.0"}}}
]}.

{plugins, [{grpc_plugin, {git, "https://github.com/HJianBo/grpcbox_plugin", {tag, "v0.10.0"}}}]}.

{grpc,
    [{type, all},
        {protos, ["proto/"]},
        {force, false},
        {out_dir, "src/grpc/cs_gen"},
        {gpb_opts, [
            {descriptor, true},
            {module_name_prefix, "ct_"},
            {module_name_suffix, "_pb"},
            use_packages,
            maps,
            type_specs,
            {i, "."},
            {o, "src/grpc/proto"}
        ]}
    ]}.

{provider_hooks,
    [{pre, [{compile, {grpc, gen}}]}]}.

{rebar_packages_cdn, "https://hexpm.upyun.com"}.